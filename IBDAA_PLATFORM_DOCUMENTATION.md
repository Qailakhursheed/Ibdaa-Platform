# ๐ ุงูุชูุซูู ุงูููุงุฆู ูููุตุฉ ุฅุจุฏุงุน (IBDAA_PLATFORM_DOCUMENTATION)
**ุงูุชุงุฑูุฎ:** 2025-11-07  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ูุทุงู ุงููุณุชูุฏ:** ุชูุซูู ููุญุฏ ูุฌูุน (ุฏููู ุงููุณุชุฎุฏู + ุฏููู ุงูุทุงูุจ + ุงูุฏููู ุงูุชููู ูููุทูุฑ) ููุนูุณ ูุฎุฑุฌุงุช ุงููุฑุงุญู (1 โ 5) ูุงุณุชุนุฏุงุฏ ุงูููุตุฉ ูููุฑุญูุฉ ุงูุฅูุชุงุฌูุฉ.

---
## ููุฑุณ ุงููุญุชููุงุช (TOC)
1. ุงููุตู ุงูุฃูู: ุฏููู ุงููุณุชุฎุฏู (ุงููุฏูุฑ + ุงููุดุฑู ุงูููู)
2. ุงููุตู ุงูุซุงูู: ุฏููู ุงูุทุงูุจ
3. ุงููุตู ุงูุซุงูุซ: ุงูุฏููู ุงูุชููู (ูููุทูุฑูู)
4. ุงูููุงุญู (API Matrix โ Glossary โ Workflows)
<?php
$contentType = trim($_SERVER['CONTENT_TYPE'] ?? '');
if ($contentType && stripos($contentType, 'application/json') === 0) {
    $content = trim(file_get_contents('php://input'));
    $decoded = json_decode($content, true);
    if (is_array($decoded)) {
        $_POST = array_merge($_POST, $decoded);
    }
}
---
## ุงููุตู ุงูุฃูู: ุฏููู ุงููุณุชุฎุฏู (ุงููุฏูุฑ + ุงููุดุฑู ุงูููู)
### 1. ุชุณุฌูู ุงูุฏุฎูู
- ุฑุงุจุท ุงูุฏุฎูู: `http://localhost/Ibdaa-Taiz/Manager/login.php`
- ุงูุฃุฏูุงุฑ ุงููุฏุนููุฉ: `manager`, `technical`, `trainer`, `student` (ููู ููุญุฉ ุงูุชุญูู ุงููุงููุฉ ูุฎุตุตุฉ ูู manager + technical).
- ุจุนุฏ ุงูุชุณุฌูู ูุงูุฏุฎูู: ูุชู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู `Manager/dashboard.php`.

### 2. ุดุฑุญ ุงูุตูุงุญูุงุช (Manager vs Technical)
| ุงููุณู | ุงููุฏูุฑ (manager) | ุงููุดุฑู ุงูููู (technical) |
|-------|------------------|---------------------------|
| ููุญุฉ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ | โ | โ (ูุฏ ุชููู ุจุนุถ ุงูุจุทุงูุงุช ูุจุณุทุฉ) |
| ุฅุฏุงุฑุฉ ุงูุทูุงุจ (ุงููุชุฏุฑุจูู) | โ CRUD | โ CRUD |
| ุฅุฏุงุฑุฉ ุงููุฏุฑุจูู | โ CRUD | โ CRUD |
| ุงูุฏูุฑุงุช (ุงูุจุฑุงูุฌ) | โ CRUD | โ CRUD |
| ุฅุฏุงุฑุฉ ุงูุฏุฑุฌุงุช | โ | โ |
| ุงุณุชูุฑุงุฏ ุงูุทูุงุจ (Excel) | โ | โ |
| ุงุณุชูุฑุงุฏ ุงูุฏุฑุฌุงุช | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช | โ | โ |
| ุงูุดุคูู ุงููุงููุฉ (ุจุงูุชุธุงุฑ ุงูุฏูุน + ุชุฃููุฏ ุงูุฏูุน) | โ | โ |
| ุฅุตุฏุงุฑ ูุฅุฑุณุงู ุจุทุงูุงุช ุงูุทูุงุจ | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (SMTP โ WhatsApp) | โ | โ |
| ุญุฐู ุญุณุงุณ / ุถุจุท ุงููุธุงู | โ | โ |

### 3. ุฅุฏุงุฑุฉ ุงูุทูุงุจ / ุงููุฏุฑุจูู
#### ุงููุตูู: ูู ุงูุดุฑูุท ุงูุฌุงูุจู โ "ุงูุทูุงุจ (ุงููุชุฏุฑุจูู)" ุฃู "ุงููุฏุฑุจูู".
#### ุนูุงุตุฑ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงูุทูุงุจ:
- ุดุฑูุท ุนููู: ุจุญุซ | ุชุตุฏูุฑ CSV | ุฒุฑ "ุฅุถุงูุฉ ุทุงูุจ".
- ุฌุฏูู ุฃุนูุฏุฉ: ุงูุงุณู โ ุงูุจุฑูุฏ โ ุงููุงุชู โ ุงูุญุงูุฉ โ ุงูุฅุฌุฑุงุกุงุช.
- ุงูุฅุฌุฑุงุกุงุช ุงููุชุงุญุฉ ููู ุณุฌู:
  - โ๏ธ ุชุนุฏูู: ููุชุญ ูููุฐุฌ (Modal) ูุนุจุฃู ุจุงูุจูุงูุงุช.
  - ๐๏ธ (ุนุฑุถ/ูุณุชูุจูู) โ placeholder.
  - ๐ด ุทุจุงุนุฉ ุจุทุงูุฉ: ูุชุญ `api/generate_id_card.php?id=XX` ูู ุชุจููุจ ุฌุฏูุฏ.
  - ๐ง ุฅุฑุณุงู ุจุทุงูุฉ: ุงุณุชุฏุนุงุก `api/send_card_to_student.php` (ููููุฏ PDF ูุคูุช ููุฑุณูู).
  - ๐๏ธ ุญุฐู (ูุน ุชุฃููุฏ).

#### ุชุฏูู ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ:
1. ุงุถุบุท "ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ".
2. ุนุจุฆ ุงูุญููู (ุงูุงุณู ุงูุนุฑุจู โ ุงูุงุณู ุงูุฅูุฌููุฒู โ ุชุงุฑูุฎ ุงููููุงุฏ โ ุงููุงุชู โ ุงููุญุงูุธุฉ โ ุงููุฏูุฑูุฉ...).
3. ุนูุฏ ุงูุญูุธ:
   - ููุดุฃ ุงููุณุชุฎุฏู ุจุฏูุฑ `student`.
   - ูููููุฏ ุจุฑูุฏ ุชููุงุฆู ุฅู ูู ููุฏุฎู (`fullname.en@ibdaa.edu.ye`).
   - ูููุฉ ูุฑูุฑ ุงูุชุฑุงุถูุฉ: `student123` (ููุตู ุจุชุบููุฑูุง ูุงุญูุงู).

### 4. ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช
- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุจุฏูู ุญูู `slug` (ุชูุช ุฅุฒุงูุชู ูู ุงููุฑุญูุฉ 1).
- ุงูุญููู: ุงูุนููุงู โ ุงููุตู ุงููุฎุชุตุฑ โ ุงูุตูุฑุฉ โ ุงูุณุนุฉ โ ุงูุญุงูุฉ.
- ุนูุฏ ุชุนุฏูู ุฏูุฑุฉ ุชูุญุฏูุซ ูู ุฌุฏูู `courses` (ููุชุงุญูุง ุงูุขู `course_id`).

### 5. ุฅุฏุงุฑุฉ ุงููุงููุฉ (ูุณู "ุจุงูุชุธุงุฑ ุงูุฏูุน")
#### ุงููุฏู: ุฑุจุท ุญุงูุฉ ุงูุฏูุน ุจุชูุนูู ุงูุญุณุงุจ.
ุงูุชุฏูู ุงูููุงุณู:
```
ุทูุจ ุชุณุฌูู โ ููุงููุฉ ูุจุฏุฆูุฉ (status=ููุจูู + ุฅูุดุงุก ุชุณุฌูู enrollment ุจุญุงูุฉ pending) โ ูุธูุฑ ุงูุทุงูุจ ูู ุงูุดุคูู ุงููุงููุฉ โ ุชุฃููุฏ ุงูุฏูุน โ ุชุญุฏูุซ payment_status='paid' + ุชูุนูู verified=1 + ุฅุฑุณุงู ุจุฑูุฏ ุงูุชูุนูู.
```
#### ุงูุฅุฌุฑุงุกุงุช:
- ุฒุฑ "ุชุฃููุฏ ุงูุฏูุน" โ ููุญุฏูุซ ุงูุณุฌู ูููุฑุณู ุจุฑูุฏ ูุฌุงุญ ูููุณุชุฎุฏู.
- ูุนุชูุฏ ุนูู ุฃุนูุฏุฉ: `enrollments.payment_status` + `users.verified`.

### 6. ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช
- ุงููุตูู: ุงูุดุฑูุท ุงูุฌุงูุจู โ "ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช".
- ุงููุงุฌูุฉ:
  - ูููุฐุฌ (ุนููุงู โ ูุญุชูู) โ ุฒุฑ "ูุดุฑ ุงูุฅุนูุงู".
  - ุฌุฏูู ุงูุฅุนูุงูุงุช ุงูุญุงููุฉ (ุงูุฃุญุฏุซ ุฃููุงู) ูุน ุฒุฑ ุญุฐู.
- ุงูุธููุฑ ุงูุนุงู: ูุธูุฑ ุขุฎุฑ ุงูุฅุนูุงูุงุช ูู `platform/index.php` ูุน ุชุตููู ุจุทุงูุงุช.

### 7. ุงุณุชูุฑุงุฏ ุงูุทูุงุจ (ุงููุธุงู ุงููุฑู โ 3 ุฎุทูุงุช)
ุงููููุน: ููุญุฉ ุงูุชุญูู โ ูุณู ุงูุงุณุชูุฑุงุฏ ุงูุฐูู.
ุงูุชุฏูู:
1. ุฑูุน ุงูููู (.xlsx / .xls / .csv) โ ุงุณุชุฏุนุงุก API: `excel_read_headers.php` ูุนูุฏ headers + filePath.
2. ูุงุฌูุฉ ุงูุฑุจุท (Mapping): ูุทุงุจูุฉ ุงูุญููู (ุงูุงุณู โ ุงูุจุฑูุฏ โ ุงูุฏูุฑุฉ โ ุงููุงุชู โ ุงููููุน...). ูุดูู ุงูุชุฑุงุญุงุช ุชููุงุฆูุฉ (Auto Mapping).
3. ุชูููุฐ ุงูุงุณุชูุฑุงุฏ โ API: `excel_process_mapped_import.php` โ ุชูุฑูุฑ ููุตู: (ูุถุงู โ ูุญุฏุซ โ ูุฑููุถ + ุฃุณุจุงุจ).

### 8. ุงุณุชูุฑุงุฏ ุงูุฏุฑุฌุงุช
- ุงููุตูู ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฏุฑุฌุงุช.
- ุชูุณูู ุงูููู: (ุงุณู/ุจุฑูุฏ ุงูุทุงูุจ | ุงูุฏุฑุฌุฉ | ุงูุฏุฑุฌุฉ ุงููุตูู | ุงุณู ุงููููุฉ | ููุงุญุธุงุช).
- ุงูุฏุงูุฉ ุชุฏุนู:
  - ุงูุจุญุซ ุงูุฐูู ุจุงูุงุณู ุฃู ุงูุจุฑูุฏ.
  - ุงูุชุญุฏูุซ ุงูุชููุงุฆู ููุตููู ุงูููุฌูุฏุฉ (ON DUPLICATE KEY LOGIC ูุฏูุฌ ุนูู ูุณุชูู ุงูุชุทุจูู).
  - ุชูุฑูุฑ ุจุนุฏ ุงูุงุณุชูุฑุงุฏ (ูุฌุงุญ โ ุชุญุฏูุซ โ ุฃุฎุทุงุก: ุทุงูุจ ุบูุฑ ููุฌูุฏ / ุบูุฑ ูุณุฌู ูู ุงูุฏูุฑุฉ).

### 9. ุฅุตุฏุงุฑ ุจุทุงูุงุช ุงูุทูุงุจ (Print + Send)
- ุฒุฑ "ุทุจุงุนุฉ ุจุทุงูุฉ" โ ูุชุญ PDF ุจููุงุณ ุจุทุงูุฉ ุงุฆุชูุงู 85.6ร53.98mm.
- ุฒุฑ "ุฅุฑุณุงู ุจุทุงูุฉ" โ ุงุณุชุฏุนุงุก API ููููุฏ PDF ูุคูุช ููุฑุณูู ุจุงูุจุฑูุฏ.
- ุงูุจุทุงูุฉ ุชุญุชูู: ุดุนุงุฑ (Watermark + Logo) โ ุงุณู โ ุฑูู โ ุฏูุฑุฉ โ ูููุน โ ุชุงุฑูุฎ ุฅูุดุงุก โ QR ููุชุญูู.
- ุงูุชุญูู ุงูุนุงู: `platform/verify_student.php?id=STUDENT_ID`.

---
## ุงููุตู ุงูุซุงูู: ุฏููู ุงูุทุงูุจ
### 1. ุชุณุฌูู ุงูุฏุฎูู (ุฌุฏูุฏ / ูุณุฌู)
- ุงูุชุณุฌูู ูุชู ุนุจุฑ ูุงุฌูุฉ ุงููููุน ุงูุนุงู (ูุฏ ุชููู `signup.php` / ุฃู ุนุจุฑ ุทูุจ ุฏูุฑุฉ).
- ุงูุจุฑูุฏ ููุณุชุฎุฏู ููุชุญูู ูุชููู ุงูุฅุดุนุงุฑุงุช.

### 2. ุชุฌุฑุจุฉ ุงูุทุงูุจ ุบูุฑ ุงููุณุฌู ูู ุฏูุฑุฉ
- ุนูุฏ ุงูุฏุฎูู ุฅูู ููุญุฉ ุงููุฏูุฑ ููู `student` ุบูุฑ ูุฑุชุจุท ุจู enrollment ูุดุท:
  - ุฅุฎูุงุก ุงูุดุฑูุท ุงูุฌุงูุจู.
  - ุนุฑุถ ุฑุณุงูุฉ ุชุฑุญูุจ + ุฃุฒุฑุงุฑ (ุงูุนูุฏุฉ โ ุชุตูุญ ุงูุฏูุฑุงุช).
  - ุนุฑุถ ุขุฎุฑ ุงูุฅุนูุงูุงุช ุงูุนุงูุฉ (ููุณ ูุงุฌูุฉ ุงููููุน).

### 3. ุชุฌุฑุจุฉ ุงูุทุงูุจ ุงููุณุฌู ูู ุฏูุฑุฉ
- ุนูุฏ ูุฌูุฏ ุณุฌู ูู `enrollments` ุจุญุงูุฉ ูุดุทุฉ:
  - ููุญุฉ ูุจุณุทุฉ ุชุนุฑุถ ุจุทุงูุงุช: (ุฏูุฑุงุชู โ ุฏุฑุฌุงุชู โ ุจุทุงูุชู).
  - ุงููุตูู ูุฏุฑุฌุงุชู: ุงุณุชุนูุงู ูููุฏ ุจู user_id.
  - ููููู ูุชุญ ุฑุงุจุท ุจุทุงูุฉ ุงูุทุงูุจ (ููู PDF โ ุฐุงุชู ููุท) ููู ูุง ูุณุชุทูุน ุฅุฑุณุงููุง ุจุงูุจุฑูุฏ ูุบูุฑู.

### 4. ุงูุญุตูู ุนูู ุงูุจุทุงูุฉ
- ุฅุฐุง ูุงู ุงูุญุณุงุจ ููุนููุง (verified=1) ูููู ููุทุงูุจ ูุชุญ: `Manager/api/generate_id_card.php?id=SELF_ID` (ุฃู ุฒุฑ ูู ูุงุฌูุฉ ูุฎุตุตุฉ).
- ุงูุชุญูู ุงูุนุงู ูุชู ุนุจุฑ QR Code.

### 5. ุงูุฅุดุนุงุฑุงุช
- ุงูุฅุดุนุงุฑุงุช ุชูุฑุณู ุนุจุฑ ุงูุจุฑูุฏ ุนูุฏ: (ุงูููุงููุฉ โ ุงูุชูุนูู โ ุฃุญูุงูุงู ุงูุฏูุน).

---
## ุงููุตู ุงูุซุงูุซ: ุงูุฏููู ุงูุชููู (ูููุทูุฑูู)
### 1. ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ููุฎุต ุงูุฌุฏุงูู)
| ุงูุฌุฏูู | ุงููุตู | ููุงุญุธุงุช ุฑุฆูุณูุฉ |
|--------|-------|----------------|
| users | ุจูุงูุงุช ุงููุณุชุฎุฏููู (ุฌููุน ุงูุฃุฏูุงุฑ) | role ENUM โ verified โ ููุงุฑุณ email/role |
| course_requests | ุทูุจุงุช ุงูุชุณุฌูู ุงูุฃูููุฉ | statuses ุนุฑุจูุฉ โ fees โ note |
| courses | ุชุนุฑูู ุงูุฏูุฑุงุช | ุชู ุฅุฒุงูุฉ slug โ ุงูููุชุงุญ: course_id |
| enrollments | ุฑุจุท ุงูุทูุงุจ ุจุงูุฏูุฑุงุช + ุญุงูุฉ ุงูุฏูุน | payment_status (pending/paid) |
| grades | ุฏุฑุฌุงุช ุงูุทูุงุจ ูู ุงูุฏูุฑุงุช | grade_value / max_grade / assignment_name |
| announcements | ุงูุฅุนูุงูุงุช ุงูุนุงูุฉ | ุชุธูุฑ ููุนุงูุฉ & ูู ููุญุฉ ุงูุชุญูู |
| notifications | ุฅุดุนุงุฑุงุช ุฏุงุฎููุฉ ูููุฏูุฑ/ุงููุดุฑู | is_read โ user_id foreign key |
| settings | ุฅุนุฏุงุฏุงุช SMTP / WhatsApp | key/value |
| regions | ุงููุญุงูุธุงุช | ูุฑุฌุนูุฉ ูููููุน ุงูุฌุบุฑุงูู |
| districts | ุงููุฏูุฑูุงุช | ูุฑุชุจุทุฉ ุจุงูู regions |
| sub_districts | ุงูุนุฒู (ุงุฎุชูุงุฑู) | ูุฑุชุจุทุฉ ุจุงูู districts |
| support_tickets (ุฅู ููุฌุฏ ูุงุญูุงู) | ููุฏุนู ุงูููู | ูุณุชูุจููุฉ |
| payments (ุฅู ุงุณุชุฎุฏู ูุณุชูุจูุงู) | ุชูุงุตูู ูุฏููุนุงุช ุฃูุณุน | ูุงุจู ููุชูุณุนุฉ |

(ุฑุงุฌุน ูููุงุช SQL ูู `database/` ูุซู: `schema.sql`, `structure_tables.sql`, `announcements.sql`, `notifications.sql`, `settings.sql`).

### 2. ูุงุฆูุฉ ูููุงุช ุงูู API (ุงููุฌูุฏ: `Manager/api/`)
| ุงูููู | ุงููููุฉ ุงูุฃุณุงุณูุฉ |
|-------|----------------|
| manage_users.php | CRUD ุงููุณุชุฎุฏููู (ุทูุงุจ/ูุฏุฑุจูู/ุฅุฏุงุฑููู) |
| manage_courses.php | CRUD ุงูุฏูุฑุงุช |
| manage_enrollments.php | ุฅุฏุงุฑุฉ ุงูุชุณุฌููุงุช (ูุจูู/ุฑุจุท/ุญุงูุฉ) |
| manage_grades.php | ุฅุถุงูุฉ/ุชุญุฏูุซ/ุนุฑุถ ุงูุฏุฑุฌุงุช ุงููุฑุฏูุฉ |
| import_grades.php | ุงุณุชูุฑุงุฏ ุฏุฑุฌุงุช ูู Excel/CSV |
| excel_read_headers.php | ูุฑุงุกุฉ ุฑุคูุณ ุฃุนูุฏุฉ ููู ุงูุงุณุชูุฑุงุฏ ุงูุฐูู |
| excel_process_mapped_import.php | ุชูููุฐ ุงูุงุณุชูุฑุงุฏ ุงูุฏููุงูููู ููุทูุงุจ |
| manage_announcements.php | CRUD ุงูุฅุนูุงูุงุช |
| manage_finance.php | ุฌูุจ ุณุฌูุงุช ุจุงูุชุธุงุฑ ุงูุฏูุน + ุชุฃููุฏ ุงูุฏูุน |
| manage_locations.php | ุฅุฏุงุฑุฉ (regions/districts) ุฅู ูุฌุฏุช ูุงุฌูุฉ ููุง |
| manage_settings.php | ุชุญุฏูุซ ูุฅุฑุฌุงุน ุฅุนุฏุงุฏุงุช SMTP/WhatsApp |
| get_dashboard_stats.php | ุฅุญุตุงุฆูุงุช ุนุงูุฉ ูููุญุฉ ุงูุชุญูู |
| get_pending_payments.php | ูุงุฆูุฉ ุงูุทูุจุงุช/ุงูุชุณุฌููุงุช ุจุงูุชุธุงุฑ ุงูุฏูุน |
| get_requests.php | ุฌูุจ ุทูุจุงุช ุงูุชุณุฌูู ุงูุฃูููุฉ |
| get_notifications.php | ุฌูุจ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ |
| mark_notification_read.php | ุชุนููู ุฅุดุนุงุฑ ูููุฑูุก |
| get_student_data.php | ุจูุงูุงุช ุชูุตูููุฉ ููุทุงูุจ (ุนุฑุถ ูุฑุฏู) |
| get_trainer_data.php | ุจูุงูุงุช ุชูุตูููุฉ ูููุฏุฑุจ |
| import_excel.php | (ูุฏููุฉ / ูุคุฑุดูุฉ ุจุนุฏ ุงููุธุงู ุงูุฐูู) |
| import_graduates_list.php | ุงุณุชูุฑุงุฏ ูุงุฆูุฉ ุฎุฑูุฌูู |
| get_graduates.php | ุฌูุจ ุจูุงูุงุช ุงูุฎุฑูุฌูู |
| send_card_to_student.php | ุชูููุฏ + ุฅุฑุณุงู ุจุทุงูุฉ ุทุงูุจ ุจุงูุจุฑูุฏ |
| generate_id_card.php | ุทุจุงุนุฉ ุจุทุงูุฉ PDF ุจุฏุงุฎู ุงููุชุตูุญ |
| send_support_email.php | ูุฑุงุณูุฉ ุฏุนู (ุฅู ููุฌุฏ) |
| send_communication.php | ุฅุฑุณุงู ุฑุณุงุฆู ููุงููุฉ/ุฑูุถ/ุชูุนูู |
| send_test_email.php | ุงุฎุชุจุงุฑ ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ |

### 3. ุงูููุชุจุงุช (Dependencies)
ููุชุทู ูู `composer.json`:
```json
{
  "require": {
    "phpoffice/phpspreadsheet": "^5.2",
    "setasign/fpdf": "^1.8",
    "chillerlan/php-qrcode": "^5.0",
    "phpmailer/phpmailer": "^7.0"
  }
}
```
- PhpSpreadsheet: ูุฑุงุกุฉ/ูุนุงูุฌุฉ Excel.
- FPDF: ุชูููุฏ PDF ุจุทุงูุฉ ุงูุทุงูุจ.
- chillerlan/php-qrcode: ุชูููุฏ ุฑูุฒ QR.
- PHPMailer: ุฅุฑุณุงู ุงูุจุฑูุฏ SMTP.

### 4. ุฅุนุฏุงุฏ ุงููุดุฑูุน (Setup)
#### ุงููุชุทูุจุงุช:
- Windows + XAMPP (Apache + MySQL)
- PHP >= 7.4
- Composer

#### ุฎุทูุงุช ุงูุชุดุบูู ุงูุฃููู:
```powershell
# 1. ูุณุฎ ุงููุดุฑูุน ุฅูู: C:\xampp\htdocs\Ibdaa-Taiz
# 2. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ
mysql -u root -p < database/schema.sql

# 3. (ุงุฎุชูุงุฑู) ุงุณุชูุฑุงุฏ ุจููุฉ ุงูุฌุฏุงูู: ุงูุฅุดุนุงุฑุงุช + ุงูุฅุนุฏุงุฏุงุช
mysql -u root -p ibdaa_platform < database/notifications.sql
mysql -u root -p ibdaa_platform < database/settings.sql

# 4. ุชุซุจูุช ุงูุญุฒู
cd C:\xampp\htdocs\Ibdaa-Taiz
composer install

# 5. ุถุจุท ุฅุนุฏุงุฏุงุช SMTP ูู ููุญุฉ ุงูุชุญูู (ูุณู ุงูุฅุนุฏุงุฏุงุช)
# 6. ูุชุญ ุงููุชุตูุญ: http://localhost/Ibdaa-Taiz/platform/
```

#### ุชููุฆุฉ ุงูุจุฑูุฏ (Gmail):
1. ุชูุนูู 2FA.
2. ุฅูุดุงุก App Password.
3. ุฅุฏุฎุงู ุงูููู ูู ูุณู ุงูุฅุนุฏุงุฏุงุช (manager ููุท).

#### ูุณุงุฑุงุช ูููุฉ:
| ุงููุฏู | ุงููุณุงุฑ |
|-------|--------|
| ุงููููุน ุงูุนุงู | `platform/` |
| ููุญุฉ ุงููุฏูุฑ | `Manager/dashboard.php` |
| ุณูุฑุจุชุงุช SQL | `database/*.sql` |
| ุฑูุน ุงููููุงุช ุงููุคูุชุฉ | `uploads/temp/` |
| ุตูุฑ ุงููููุฉ | `uploads/ids/` |

### 5. ุชุฏููุงุช ุฃุณุงุณูุฉ (Workflows)
#### ุฃ. ุทูุจ ุชุณุฌูู ุญุชู ุงูุชูุนูู
```
ุทุงูุจ ูุฑุณู ุทูุจ โ (course_requests)
ูุดุฑู ูุฑุงุฌุน โ ูุจูู + ุชุญุฏูุฏ ุฑุณูู โ ุฅูุดุงุก enrollment ุจุญุงูุฉ pending
ุงูุดุคูู ุงููุงููุฉ: ุชุฃููุฏ ุงูุฏูุน โ payment_status=paid + verified=1
ุฅุฑุณุงู ุจุฑูุฏ ุชูุนูู + ุฅุดุนุงุฑ ููุทุงูู
```
#### ุจ. ุงุณุชูุฑุงุฏ ุทูุงุจ (ููู ุฎุงุฑุฌู)
```
Upload โ ูุฑุงุกุฉ ุฃุนูุฏุฉ โ ุฑุจุท ุฏููุงูููู โ ุชูููุฐ โ ุชูุฑูุฑ ููุตู
(ุงูุชุญูู: ุจุฑูุฏ โ ุงุฒุฏูุงุฌ โ ุฏูุฑุฉ ููุฌูุฏุฉ)
```
#### ุฌ. ุงุณุชูุฑุงุฏ ุฏุฑุฌุงุช
```
ุงุฎุชูุงุฑ ุฏูุฑุฉ โ ุฑูุน ููู ุฏุฑุฌุงุช โ ุชุญููู + ูุทุงุจูุฉ ุฃุณูุงุก/ุฅููููุงุช โ ุฅุฏุฑุงุฌ/ุชุญุฏูุซ โ ุชูุฑูุฑ
```
#### ุฏ. ุชูููุฏ ุจุทุงูุฉ ุทุงูุจ
```
ุทูุจ (generate_id_card.php?id=X) โ ุฌูุจ ุจูุงูุงุช ุงูุทุงูุจ โ ุชูููุฏ PDF โ ุนุฑุถ 
(ุฅุฑุณุงู: send_card_to_student.php โ ุญูุธ ูุคูุช โ ูุฑูู ุจุฑูุฏ โ ุญุฐู ุงูููู)
```

---
## ุงูููุงุญู
### A. Glossary (ูุตุทูุญุงุช)
| ุงููุตุทูุญ | ุงููุนูู |
|---------|--------|
| Enrollment | ุงุฑุชุจุงุท ุงูุทุงูุจ ุจุงูุฏูุฑุฉ | 
| Payment Pending | ุงูุชุธุงุฑ ุชุฃููุฏ ุงูุฏูุน ูุจู ุงูุชูุนูู |
| Verified User | ูุณุชุฎุฏู ููุนู (ูุธูุฑ ูู ูุฒุงูุง ุฅุถุงููุฉ) |
| Mapping | ุฑุจุท ุฃุนูุฏุฉ ููู ุฎุงุฑุฌู ุจุญููู ุงููุธุงู |
| QR Verification | ุงูุชุญูู ุนุจุฑ ุฑุงุจุท ุนุงู ุฏุงุฎู ุฑูุฒ QR |

### B. ุชูุตูุงุช ุฃูููุฉ ูุณุชูุจููุฉ
- ุชูุนูู CSRF Tokens ูู ุงูููุงุฐุฌ ุงูุญุณุงุณุฉ.
- ุชูุนูู Rate Limiting ููุงุฌูุงุช ุชุณุฌูู ุงูุฏุฎูู.
- ุชุดููุฑ ุฃุนูุฏุฉ ุฅุถุงููุฉ (ูุซู ุงููุงุชู) ุฅุฐุง ุชุทูุจ ุงูุงูุชุซุงู.
- ุฅุถุงูุฉ ุณุฌู ุชุฏููู (Audit Log) ููุชุบููุฑุงุช ุงูุฅุฏุงุฑูุฉ.

### C. ุงุฎุชุจุงุฑุงุช ููุชุฑุญุฉ
| ุณููุงุฑูู | ุฃุฏุงุฉ | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|---------|------|------------------|
| ุงุณุชูุฑุงุฏ ููู ุทูุงุจ ูุงูุต ุงูุฃุนูุฏุฉ | Smart Import | ุฑูุถ + ุชูุฑูุฑ ุฃุฎุทุงุก |
| ุฅุฑุณุงู ุจุทุงูุฉ ูุทุงูุจ ูุญุฐูู | send_card_to_student.php | ูุดู ุจุฑุณุงูุฉ ูุงุถุญุฉ |
| ูุญุงููุฉ ุทุงูุจ ูุชุญ ููุญุฉ ุงููุฏูุฑ | Session Gate | ุฅุนุงุฏุฉ ุชูุฌูู ุฃู ููุน |
| ุงุณุชูุฑุงุฏ ุฏุฑุฌุงุช ููุฑุฑุฉ | import_grades | ุชุญุฏูุซ ุจุฏูุงู ูู ุชูุฑุงุฑ |

---
**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงููุณุชูุฏ ููููู ุงููุฑุฌุน ุงููุฑูุฒู ุงูููุงุฆู ูููุตุฉ ุฅุจุฏุงุน.**  
โน๏ธ ุฃู ุชุญุฏูุซุงุช ูุณุชูุจููุฉ ูููุตุญ ุจุชูุซูููุง ูู ูุณู (Change Log) ูุถุงู ุฃุณูู ูุฐุง ุงูููู.
