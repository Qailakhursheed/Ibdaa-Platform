# ุฏููู ุชุซุจูุช ุงูููุชุจุงุช ููุธุงู ุจุทุงูุฉ ุงูุทุงูุจ

## ุงูุญุงูุฉ ุงูุญุงููุฉ
ุชู ุฅูุดุงุก ูุณุฎุฉ HTML ูู ุจุทุงูุฉ ุงูุทุงูุจ ุชุนูู ุจุฏูู ููุชุจุงุช ุฎุงุฑุฌูุฉ.

## ุงููููุงุช ุงููููุดุฃุฉ:
- โ `Manager/api/generate_id_card.php` - ูููุฏ ุจุทุงูุฉ HTML ูุงุจูุฉ ููุทุจุงุนุฉ
- โ `verify_student.php` - ุตูุญุฉ ุงูุชุญูู ูู ุจูุงูุงุช ุงูุทุงูุจ
- โ QR Code ูุชู ุชูููุฏู ุนุจุฑ API ูุฌุงูู (qrserver.com)

## ุงูููุฒุงุช ุงูุญุงููุฉ:
- โ ุชุตููู ุงุญุชุฑุงูู ุจูุฌููู (ุฃูุงูู/ุฎููู)
- โ ุดุนุงุฑ ุงูููุตุฉ ูุฎูููุฉ ูุงุฆูุฉ (watermark)
- โ ูุนูููุงุช ุงูุทุงูุจ ูุงููุฉ
- โ ุตูุฑุฉ ุงูุทุงูุจ (ุฅุฐุง ูุงูุช ููุฌูุฏุฉ)
- โ QR Code ูุดูุฑ ุฅูู ุตูุญุฉ ุงูุชุญูู
- โ ุฌุงูุฒุฉ ููุทุจุงุนุฉ ูุจุงุดุฑุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู:
1. ุงูุชุญ `Manager/dashboard.php`
2. ุงุฐูุจ ุฅูู ูุณู "ุงููุชุฏุฑุจูู"
3. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุจุทุงูุฉ ๐ณ ุจุฌุงูุจ ุฃู ุทุงูุจ
4. ุณุชูุชุญ ุงูุจุทุงูุฉ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
5. ุงุถุบุท ุฒุฑ "ุทุจุงุนุฉ ุงูุจุทุงูุฉ" ุฃู Ctrl+P

---

## ููุชุฑููุฉ ุฅูู PDF (ุงุฎุชูุงุฑู):

ุฅุฐุง ููุช ุชุฑูุฏ ุชูููุฏ ูููุงุช PDF ุจุฏูุงู ูู HTMLุ ุงุชุจุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

### ุงูุฎุทูุฉ 1: ุชุซุจูุช Composer
ุฅุฐุง ูู ููู ูุซุจุชุงู ูุฏูู:

**Windows:**
```bash
# ุญููู ูู: https://getcomposer.org/Composer-Setup.exe
# ุดุบูู ุงููุซุจุช ูุงุชุจุน ุงูุชุนูููุงุช
```

**ุชุญูู ูู ุงูุชุซุจูุช:**
```bash
composer --version
```

### ุงูุฎุทูุฉ 2: ุชุซุจูุช ุงูููุชุจุงุช

ูู ูุฌูุฏ ุงููุดุฑูุน:

```bash
cd c:\xampp\htdocs\Ibdaa-Taiz

# ุชุซุจูุช FPDF ูุฅูุดุงุก PDF
composer require setasign/fpdf

# ุชุซุจูุช ููุชุจุฉ QR Code
composer require chillerlan/php-qrcode
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก generate_id_card_pdf.php (ูุณุฎุฉ ูุชูุฏูุฉ)

ุจุนุฏ ุชุซุจูุช ุงูููุชุจุงุชุ ุฃูุดุฆ ููู ุฌุฏูุฏ:

```php
<?php
session_start();
require_once __DIR__ . '/../../platform/db.php';
require_once __DIR__ . '/../../vendor/autoload.php'; // Composer autoload

use chillerlan\QRCode\QRCode;
use chillerlan\QRCode\QROptions;

// ... (ููุณ ููุฏ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูุงูุทุงูุจ)

// ุฅูุดุงุก QR Code
$qr_options = new QROptions([
    'outputType' => QRCode::OUTPUT_IMAGE_PNG,
    'eccLevel' => QRCode::ECC_L,
    'scale' => 10,
]);
$qr_code = (new QRCode($qr_options))->render(
    'http://localhost/Ibdaa-Taiz/verify_student.php?uid=' . $student['id']
);

// ุญูุธ QR Code ูููู ูุคูุช
$qr_file = __DIR__ . '/../../temp/qr_' . $student['id'] . '.png';
file_put_contents($qr_file, base64_decode(explode(',', $qr_code)[1]));

// ุฅูุดุงุก PDF
$pdf = new FPDF('L', 'mm', [85.6, 53.98]); // ุจุญุฌู ุจุทุงูุฉ ุงูุงุฆุชูุงู
$pdf->AddPage();
$pdf->SetFont('Arial', 'B', 16);

// ุฅุถุงูุฉ ุงูุดุนุงุฑ
$pdf->Image('../../platform/photos/Sh.jpg', 10, 10, 20, 20);

// ุฅุถุงูุฉ ุงููุต
$pdf->Cell(0, 10, $student['full_name'], 0, 1, 'C');

// ุฅุถุงูุฉ QR Code
$pdf->Image($qr_file, 60, 30, 20, 20);

// ุฅุฎุฑุงุฌ PDF
$pdf->Output('D', 'student_card_' . $student['id'] . '.pdf');

// ุญุฐู QR Code ุงููุคูุช
unlink($qr_file);
?>
```

---

## ุงูุจุฏุงุฆู (ุจุฏูู ููุชุจุงุช):

### ุงูุจุฏูู 1: ุงุณุชุฎุฏุงู HTML to PDF ุนุจุฑ ุงููุชุตูุญ
- ุงููุณุชุฎุฏู ููุชุญ ุงูุจุทุงูุฉ HTML
- ูุทุจุนูุง ูู PDF ูู ุงููุชุตูุญ (Print > Save as PDF)
- โ **ูุฐุง ุงูุญู ุงูุญุงูู** - ุจุณูุท ููุนุงู!

### ุงูุจุฏูู 2: ุงุณุชุฎุฏุงู ุฎุฏูุฉ API ุฎุงุฑุฌูุฉ
```php
// ุงุณุชุฎุฏุงู API ูุชุญููู HTML ุฅูู PDF
$html = file_get_contents('http://localhost/...generate_id_card.php?id=123');
$pdf_url = 'https://api.html2pdf.app/v1/generate';
// ุฅุฑุณุงู HTML ูุชููู PDF
```

---

## ุงูุฎูุงุตุฉ

**ุงูุญู ุงูุญุงูู (HTML):**
- โ ูุนูู ุจุฏูู ููุชุจุงุช ุฅุถุงููุฉ
- โ ุณูู ุงูุตูุงูุฉ
- โ ูุฏุนู ุงูุทุจุงุนุฉ ูุจุงุดุฑุฉ
- โ QR Code ูุนูู ุนุจุฑ API ูุฌุงูู
- โ๏ธ ูุญุชุงุฌ ูุชุตูุญ ูุนุฑุถ ุงูุจุทุงูุฉ

**ุงูุญู ุงููุชูุฏู (PDF):**
- โ ูููุงุช PDF ูุงุจูุฉ ููุชูุฒูู ูุจุงุดุฑุฉ
- โ ูุง ูุญุชุงุฌ ูุชุตูุญ
- โ๏ธ ูุญุชุงุฌ ุชุซุจูุช Composer ูููุชุจุงุช
- โ๏ธ ุฃูุซุฑ ุชุนููุฏุงู ูู ุงูุตูุงูุฉ

**ุงูุชูุตูุฉ:** ุงุณุชูุฑ ุจุงูุญู ุงูุญุงูู (HTML) ูุฃูู:
- ุจุณูุท ููุนุงู
- ูุนูู ูุจุงุดุฑุฉ
- ุณูู ุงูุชุนุฏูู
- ูุง ูุญุชุงุฌ dependencies

ุฅุฐุง ุงุญุชุฌุช PDF ูุงุญูุงูุ ูููู ุงูุชุฑููุฉ ุจุณูููุฉ!

---

## ููุงุญุธุงุช ูููุฉ:

1. **QR Code API ุงูุญุงูู:**
   - ูุณุชุฎุฏู qrserver.com (ูุฌุงูู)
   - ูุนูู ุนุจุฑ ุงูุฅูุชุฑูุช ููุท
   - ุฅุฐุง ุฃุฑุฏุช offline: ุงุณุชุฎุฏู ููุชุจุฉ php-qrcode

2. **ุงูุตูุฑ:**
   - ุชุฃูุฏ ูู ูุฌูุฏ ุงูุดุนุงุฑ ูู `platform/photos/Sh.jpg`
   - ุตูุฑ ุงูุทูุงุจ ูู `platform/uploads/profile_photos/`

3. **ุงูุชุญูู ูู ุงูุทุงูุจ:**
   - ุงูุตูุญุฉ `verify_student.php` ุชุนูู ููุฌููุน (ุนุงูุฉ)
   - ุฑุงุจุท ุงูุชุญูู: `http://localhost/Ibdaa-Taiz/verify_student.php?uid=123`

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 6 ููููุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
