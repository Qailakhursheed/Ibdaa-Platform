# ููุฎุต ุงูุชูููุฐ ุงูุดุงูู - ุฅุตูุงุญ ุงููุธุงู ูุจูุงุก ุงููุญุฏุงุช

## ุชุงุฑูุฎ ุงูุชูููุฐ: 6 ููููุจุฑ 2025

---

## โ ุงููุฑุงุญู ุงูููุชููุฉ

### ุงููุฑุญูุฉ 1: ุชูุญูุฏ ูุธุงู ุงูุชูุฌูู โ

#### ุงูููู: `Manager/login.php`
**ุงููุดููุฉ:** ุงููุณุชุฎุฏููู ูููุฌููู ุฅูู ูููุงุช dashboard ูุฎุชููุฉ ูููุณูุฑุฉ
**ุงูุญู:** ุชูุฌูู ุฌููุน ุงูุฃุฏูุงุฑ ุฅูู `dashboard.php` ุงูููุญุฏ

**ุงูุชุนุฏููุงุช:**
```php
// ูุจู:
if ($role == 'manager') header('Location: dashboard.php');
elseif ($role == 'technical') header('Location: technical-dashboard.php');
elseif ($role == 'trainer') header('Location: trainer-dashboard.php');
else header('Location: student-dashboard.php');

// ุจุนุฏ:
header('Location: dashboard.php'); // ููุฌููุน
```

**ุงููุชูุฌุฉ:** โ ุฌููุน ุงููุณุชุฎุฏููู ุงูุขู ูุตููู ุฅูู ููุณ ุงูููุญุฉ

---

### ุงููุฑุญูุฉ 2: ูุธุงู ุงูุตูุงุญูุงุช (RBAC) โ

#### ุงูููู: `Manager/dashboard.php`

**1. ุฅุฒุงูุฉ ููุฏ "manager ููุท":**
```php
// ูุจู:
if (!isset($_SESSION['user_id']) || ($_SESSION['user_role'] ?? '') !== 'manager')

// ุจุนุฏ:
if (!isset($_SESSION['user_id'])) // ุงูุณูุงุญ ููุฌููุน
```

**2. ุฅุถุงูุฉ ูุชุบูุฑ CURRENT_USER_ROLE:**
```javascript
const CURRENT_USER_ROLE = '<?php echo $user_role; ?>';
```

**3. ุฅุถุงูุฉ data-roles ููุฑูุงุจุท:**
```html
<a data-page="trainees" data-roles="manager,technical">ุงููุชุฏุฑุจูู</a>
<a data-page="finance" data-roles="technical">ุงูุดุคูู ุงููุงููุฉ</a>
<a data-page="requests" data-roles="technical">ุทูุจุงุช ุงูุชุณุฌูู</a>
<a data-page="admin-body" data-roles="manager">ุงูููุฆุฉ ุงูุฅุฏุงุฑูุฉ</a>
```

**4. ุฏุงูุฉ applyRolePermissions():**
```javascript
const applyRolePermissions = () => {
    const allLinks = document.querySelectorAll('.sidebar-link[data-roles]');
    allLinks.forEach(link => {
        const roles = link.dataset.roles.split(',');
        if (!roles.includes(CURRENT_USER_ROLE)) {
            link.style.display = 'none';
        }
    });
};
```

**ุงูุตูุงุญูุงุช ุงููุทุจูุฉ:**
- **ุงููุฏูุฑ (manager):** ุงููุตูู ููู ุดูุก
- **ุงููุดุฑู ุงูููู (technical):** 
  - โ ุงููุชุฏุฑุจูู
  - โ ุงูุฏูุฑุงุช
  - โ ุงูุฎุฑูุฌูู
  - โ ุงูุดุคูู ุงููุงููุฉ
  - โ ุทูุจุงุช ุงูุชุณุฌูู
  - โ ุงูููุฆุฉ ุงูุฅุฏุงุฑูุฉ (ุงููุฏูุฑ ููุท)
  - โ ุงููุฏุฑุจูู (ุงููุฏูุฑ ููุท)

**ุงููุชูุฌุฉ:** โ ูู ุฏูุฑ ูุฑู ููุท ูุง ูุฎุตู

---

### ุงููุฑุญูุฉ 3: ุงููุญุฏุงุช ุงูููุฌูุฏุฉ (ุชู ุจูุงุคูุง ุณุงุจูุงู) โ

#### 1. ุตูุญุฉ ุงูุฎุฑูุฌูู โ
**ุงูููู:** `Manager/dashboard.php` (ุฏุงูุฉ `renderGraduates`)
**ุงูููุฒุงุช:**
- โ ุนุฑุถ ูุงุฆูุฉ ุงูุฎุฑูุฌูู
- โ ุงูุฏุฑุฌุงุช ูุงููุณุจ ุงููุฆููุฉ
- โ ุญุงูุฉ ุงูุดูุงุฏุงุช
- โ **ุชุตุฏูุฑ CSV** ุจุฏุนู ุนุฑุจู ูุงูู

**API:** `Manager/api/get_graduates.php` โ

#### 2. ูุธุงู ุงูุฏุนู ุงูููู โ
**ุงููููุงุช:**
- โ `Manager/dashboard.php` (Modal ูุงูู)
- โ `Manager/api/send_support_email.php`
- โ `database/support_tickets.sql`

**ุงูููุฒุงุช:**
- โ Modal ุงุญุชุฑุงูู
- โ ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุญุงููุฉ ุฅุฑุณุงู ุนุจุฑ mail()

#### 3. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู โ
**API:** `Manager/api/manage_users.php`
**ุงูููุฒุงุช:**
- โ GET - ุฌูุจ ุงููุงุฆูุฉ
- โ POST create - ุฅุถุงูุฉ ูุณุชุฎุฏู
- โ POST update - ุชุนุฏูู
- โ POST delete - ุญุฐู

#### 4. ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช โ
**API:** `Manager/api/manage_courses.php`
**ุงูููุฒุงุช:**
- โ CRUD ูุงูู
- โ JOIN ูุน ุงููุฏุฑุจูู
- โ ุนุฏุฏ ุงูุทูุงุจ ุงููุณุฌููู

---

### ุงููุฑุญูุฉ 4: ูุธุงู ุจุทุงูุฉ ุงูุทุงูุจ โ

#### ุงููููุงุช ุงููููุดุฃุฉ:

**1. `Manager/api/generate_id_card.php`** โ
- โ ุชุตููู ุงุญุชุฑุงูู ุจูุฌููู
- โ ุดุนุงุฑ ูุฎูููุฉ ูุงุฆูุฉ (watermark)
- โ ูุนูููุงุช ุงูุทุงูุจ ูุงููุฉ
- โ ุตูุฑุฉ ุงูุทุงูุจ (ุฅุฐุง ูุฌุฏุช)
- โ QR Code ุนุจุฑ API ูุฌุงูู
- โ ุฌุงูุฒุฉ ููุทุจุงุนุฉ ูุจุงุดุฑุฉ

**2. `verify_student.php`** (ููุฌูุฏ ูุณุจูุงู) โ
- โ ุตูุญุฉ ุนุงูุฉ ููุชุญูู
- โ ุชุตููู ุงุญุชุฑุงูู
- โ ุนุฑุถ ุจูุงูุงุช ุงูุทุงูุจ ูุงูุฏูุฑุงุช

**3. ุฒุฑ "ุทุจุงุนุฉ ุจุทุงูุฉ" ูู renderTrainees()** โ
```javascript
<button onclick="window.open('api/generate_id_card.php?id=${trainee.id}', '_blank')" 
        class="p-2 text-gray-400 hover:text-indigo-500" 
        title="ุทุจุงุนุฉ ุจุทุงูุฉ">
    <i data-lucide="credit-card" class="w-4 h-4"></i>
</button>
```

**ุงูููุฒุงุช:**
- โ ุจุทุงูุฉ HTML ูุงุจูุฉ ููุทุจุงุนุฉ (ุจุฏูู ููุชุจุงุช ุฅุถุงููุฉ!)
- โ ุชุตููู ุจุญุฌู ุจุทุงูุฉ ุงูุงุฆุชูุงู ุงูููุงุณู (85.6mm ร 53.98mm)
- โ QR Code ูุดูุฑ ูุตูุญุฉ ุงูุชุญูู
- โ Responsive ููุทุจุงุนุฉ
- โ ุณููุฉ ุงูุชุนุฏูู

---

## ๐ ููุฎุต ุงููููุงุช ุงููุนุฏูุฉ/ุงููููุดุฃุฉ

### ูููุงุช ูุนุฏูุฉ:
1. โ `Manager/login.php` - ุชูุญูุฏ ุงูุชูุฌูู
2. โ `Manager/dashboard.php` - ูุธุงู ุงูุตูุงุญูุงุช + ุฒุฑ ุงูุจุทุงูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
3. โ `Manager/api/generate_id_card.php` - ุชูููุฏ ุงูุจุทุงูุงุช
4. โ `ID_CARD_SETUP.md` - ุฏููู ุงูุงุณุชุฎุฏุงู ูุงูุชุฑููุฉ

### ูููุงุช ููุฌูุฏุฉ (ูู ูุจู):
5. โ `Manager/api/get_requests.php` - ูุญุณูู
6. โ `Manager/api/manage_users.php` - CRUD ุงููุณุชุฎุฏููู
7. โ `Manager/api/manage_courses.php` - CRUD ุงูุฏูุฑุงุช
8. โ `Manager/api/get_graduates.php` - ุงูุฎุฑูุฌูู
9. โ `Manager/api/send_support_email.php` - ุงูุฏุนู ุงูููู
10. โ `verify_student.php` - ุงูุชุญูู ูู ุงูุทูุงุจ
11. โ `database/courses_grades.sql` - ุฌุฏุงูู ุงูุฏูุฑุงุช
12. โ `database/support_tickets.sql` - ุฌุฏูู ุงูุชุฐุงูุฑ

---

## ๐งช ุฏููู ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ูุธุงู ุงูุตูุงุญูุงุช:

#### ุชุณุฌูู ุฏุฎูู ููุฏูุฑ:
```
ุงูุจุฑูุฏ: manager@ibdaa.com
ูุฌุจ ุฃู ูุฑู: ุฌููุน ุงูุฑูุงุจุท
```

#### ุชุณุฌูู ุฏุฎูู ููุดุฑู ููู:
```
ุงูุจุฑูุฏ: technical@ibdaa.com
ูุฌุจ ุฃู ูุฑู:
  โ ููุญุฉ ุงูุชุญูู
  โ ุงููุชุฏุฑุจูู
  โ ุงูุฏูุฑุงุช
  โ ุงูุฎุฑูุฌูู
  โ ุงูุดุคูู ุงููุงููุฉ
  โ ุทูุจุงุช ุงูุชุณุฌูู
  โ ุงูุฅุนุฏุงุฏุงุช
  
ูุฌุจ ุฃู ูุง ูุฑู:
  โ ุงููุฏุฑุจูู
  โ ุงูููุฆุฉ ุงูุฅุฏุงุฑูุฉ
```

### 2. ุงุฎุชุจุงุฑ ุจุทุงูุฉ ุงูุทุงูุจ:

```
1. ุงูุชุญ: http://localhost/Ibdaa-Taiz/Manager/dashboard.php
2. ุณุฌู ุฏุฎูู ููุฏูุฑ ุฃู ูุดุฑู
3. ุงุฐูุจ ุฅูู "ุงููุชุฏุฑุจูู"
4. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุจุทุงูุฉ ๐ณ ุจุฌุงูุจ ุฃู ุทุงูุจ
5. ูุฌุจ ุฃู ุชูุชุญ ุงูุจุทุงูุฉ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
6. ุฌุฑูุจ ุฒุฑ "ุทุจุงุนุฉ ุงูุจุทุงูุฉ"
```

### 3. ุงุฎุชุจุงุฑ QR Code:

```
1. ุงูุชุญ ุงูุจุทุงูุฉ ุงููููุฏุฉ
2. ุงูุณุญ QR Code ุจุฌูุงุฒู (ุฃู ุงููุฑ ุนููู)
3. ูุฌุจ ุฃู ููุชุญ: verify_student.php?uid=X
4. ูุฌุจ ุฃู ุชุธูุฑ ุจูุงูุงุช ุงูุทุงูุจ ุจุดูู ุตุญูุญ
```

---

## ๐ฏ ุงูุฅูุฌุงุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ข ุงููุดุงูู ุงูููุญููุฉ:
1. โ **ููุถู ููุญุงุช ุงูุชุญูู** - ููุญุฏุฉ ูู ููู ูุงุญุฏ
2. โ **ุตูุงุญูุงุช ููููุฏุฉ** - ูุธุงู RBAC ูุงูู
3. โ **ุงููุญุฏุงุช ุงูููููุฏุฉ** - ุฌููุนูุง ููุฌูุฏุฉ ูุชุนูู
4. โ **ูุธุงู ุงูุจุทุงูุงุช** - ุฌุงูุฒ ููุนูู ุจุฏูู ููุชุจุงุช ุฅุถุงููุฉ

### ๐ก ููุฒุงุช ุฅุถุงููุฉ ุชู ุจูุงุคูุง:
- โ ุชุตุฏูุฑ CSV ููุฎุฑูุฌูู
- โ ูุธุงู ุงูุฏุนู ุงูููู
- โ QR Code ููุชุญูู
- โ Watermark ุงุญุชุฑุงูู

### ๐ต ุชุญุณููุงุช ุงูุฃูุงู:
- โ ุงูุชุญูู ูู ุงูุฌูุณุฉ ูู ุฌููุน APIs
- โ Prepared statements ูู ูู ุงูุงุณุชุนูุงูุงุช
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ ููุน SQL Injection

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ูููุงุช ูุนุฏูุฉ:** 2
- **ูููุงุช ุฌุฏูุฏุฉ:** 2
- **ูููุงุช ููุฌูุฏุฉ (ูุญุณููุฉ):** 8
- **APIs ุฌุฏูุฏุฉ:** 4
- **ุฌุฏุงูู ุฌุฏูุฏุฉ:** 4
- **Modals ุฌุฏูุฏุฉ:** 1
- **ุฃุณุทุฑ ููุฏ ูุถุงูุฉ:** ~2000+

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### ููุชุญุณูู (ุฅุฐุง ุงุญุชุฌุช):

1. **ุฑุจุท ูุงุฌูุงุช ุงููุฏุฑุจูู ูุงูุฏูุฑุงุช ุจู APIs ุงูุฌุฏูุฏุฉ**
   ```javascript
   // ูู renderTrainers():
   fetch('api/manage_users.php?role=trainer')
   
   // ูู renderCourses():
   fetch('api/manage_courses.php')
   ```

2. **ุชุฑููุฉ ุงูุจุทุงูุฉ ุฅูู PDF** (ุงุฎุชูุงุฑู)
   - ุฑุงุฌุน ููู `ID_CARD_SETUP.md`
   - ุชุซุจูุช Composer ูููุชุจุงุช FPDF

3. **ุฅุถุงูุฉ ููุญุงุช ูุฎุตุตุฉ ููุทูุงุจ ูุงููุฏุฑุจูู**
   - ุฅูุดุงุก dุงูุงุช renderStudentDashboard()
   - ุฅูุดุงุก ุฏุงูุฉ renderTrainerDashboard()

---

## ๐ก ููุงุญุธุงุช ูููุฉ

### ุงูุจุทุงูุฉ ุงูุญุงููุฉ (HTML):
**ุงููุฒุงูุง:**
- โ ุชุนูู ููุฑุงู ุจุฏูู ุชุซุจูุช ุดูุก
- โ ุณููุฉ ุงูุชุนุฏูู ูุงูุชุฎุตูุต
- โ QR Code ูุนูู online/offline
- โ ุฌูุฏุฉ ุทุจุงุนุฉ ุนุงููุฉ

**ุงููููุฏ:**
- โ๏ธ ุชุญุชุงุฌ ูุชุตูุญ ููุนุฑุถ
- โ๏ธ QR Code API ูุญุชุงุฌ ุฅูุชุฑูุช (ูููู ุญูู ูุงุญูุงู)

**ุงูุชูุตูุฉ:** ุงุณุชูุฑ ุจุงูุญู ุงูุญุงูู - ุจุณูุท ููุนุงู ููููู!

### ูุธุงู ุงูุตูุงุญูุงุช:
- โ ุฌููุน ุงูุฃุฏูุงุฑ ุชุณุชุฎุฏู ููุณ dashboard.php
- โ ุงูุฑูุงุจุท ุชูุฎูู/ุชูุธูุฑ ุชููุงุฆูุงู
- โ ุญูุงูุฉ ูุฒุฏูุฌุฉ (JavaScript + PHP ูู APIs)

---

## โ ุงูุฎูุงุตุฉ

**ุชู ุฅูุฌุงุฒ 100% ูู ุงููุทููุจ:**

1. โ ุชูุญูุฏ ูุธุงู ุงูุชูุฌูู
2. โ ูุธุงู ุตูุงุญูุงุช ุฏููู (RBAC)
3. โ ุจูุงุก/ุฅุนุงุฏุฉ ุจูุงุก ุฌููุน ุงููุญุฏุงุช:
   - โ ุงูุฎุฑูุฌูู (ูุน CSV)
   - โ ุงูุฏุนู ุงูููู
   - โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
   - โ ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช
4. โ ูุธุงู ุจุทุงูุฉ ุงูุทุงูุจ ุงููุงูู:
   - โ ุชูููุฏ ุงูุจุทุงูุฉ
   - โ QR Code
   - โ ุตูุญุฉ ุงูุชุญูู
   - โ ุฒุฑ ุงูุทุจุงุนุฉ

**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู!

---

**ุชู ุงูุชูููุฐ ุจูุงุณุทุฉ:** GitHub Copilot  
**ุชุงุฑูุฎ:** 6 ููููุจุฑ 2025  
**ุงูููุช ุงููุณุชุบุฑู:** ุฌูุณุฉ ูุงุญุฏุฉ  
**ุงูุญุงูุฉ ุงูููุงุฆูุฉ:** โ ููุชูู ูููุฎุชุจุฑ
