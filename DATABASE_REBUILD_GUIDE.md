# ๐ง ุฏููู ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
## Database Rebuild Guide - Ibdaa Platform

**ุงูุชุงุฑูุฎ:** 20 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 3.0 Complete Rebuild

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุงูู ูุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ููุญุฏ ูููุธู. ูุชุถูู:
- โ 30+ ุฌุฏูู ููุญุฏ
- โ ุฌููุน ุงูุนูุงูุงุช (Foreign Keys)
- โ ุญููู Legacy ููุชูุงูู ูุน ุงูุฃูุธูุฉ ุงููุฏููุฉ
- โ ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู

---

## ๐ ุทุฑููุฉ ุงูุชูููุฐ

### **ุงูุทุฑููุฉ 1: ูุงุฌูุฉ ุงูููุจ (ููุตู ุจูุง)**

#### ุงูุฎุทูุงุช:

1. **ุงูุชุญ ุงููุชุตูุญ:**
```
http://localhost/Ibdaa-Taiz/database/rebuild_database.php
```

2. **ูุญุต ุงููุงุนุฏุฉ ุงูุญุงููุฉ:**
- ุงุถุบุท ุนูู "๐ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช"
- ุณุชุฑู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูุงููุดุงูู

3. **ูุณุฎ ุงุญุชูุงุทู (ููู!):**
- ุงุถุบุท ุนูู "๐พ ูุณุฎ ุงุญุชูุงุทู ูุจู ุงูุชุญุฏูุซ"
- ุณูุชู ุญูุธ ูุณุฎุฉ ูู `database/backups/`

4. **ุฅุนุงุฏุฉ ุงูุจูุงุก:**
- ุงุถุบุท ุนูู "๐ ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช"
- ุฃููุฏ ุงูุฑุณุงูุฉ ุงูุชุญุฐูุฑูุฉ
- ุงูุชุธุฑ ุญุชู ุงูุชูุงู ุงูุชูููุฐ

5. **ุงูุชุญูู:**
- ุณูุชู ูุญุต ุงููุงุนุฏุฉ ุชููุงุฆูุงู ุจุนุฏ ุงูุงูุชูุงุก
- ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู

---

### **ุงูุทุฑููุฉ 2: phpMyAdmin (ูุฏูู)**

#### ุงูุฎุทูุงุช:

1. **ุงูุชุญ phpMyAdmin:**
```
http://localhost/phpmyadmin
```

2. **ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
ibdaa_taiz
```

3. **ุงุฐูุจ ุฅูู SQL:**
- ุงุถุบุท ุนูู ุชุจููุจ "SQL"

4. **ุงูุณุฎ ูุงูุตู:**
- ุงูุชุญ ุงูููู: `database/REBUILD_DATABASE_COMPLETE.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงููุงู
- ุงูุตูู ูู ูุฑุจุน SQL

5. **ูููุฐ:**
- ุงุถุบุท "Go" ุฃู "ุชูููุฐ"
- ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชูููุฐ

6. **ุชุญูู:**
- ุงุฐูุจ ุฅูู "Structure" 
- ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู

---

## ๐ ุงููููุงุช ุงููููุฉ

| ุงูููู | ุงููุตู | ุงูุงุณุชุฎุฏุงู |
|-------|--------|-----------|
| `REBUILD_DATABASE_COMPLETE.sql` | ุงูุณูุฑูุจุช ุงููุงูู | ุฅุนุงุฏุฉ ุจูุงุก ุงููุงุนุฏุฉ |
| `rebuild_database.php` | ูุงุฌูุฉ ุงูููุจ | ุงูุชูููุฐ ุงููุฑุฆู |
| `analyze_database.php` | ุชุญููู ุงููุงุนุฏุฉ | ูุญุต ุงูุญุงูุฉ |
| `execute_sql.php` | ุชูููุฐ SQL | API Backend |
| `backup_database.php` | ูุณุฎ ุงุญุชูุงุทู | ุญูุธ ุงูุจูุงูุงุช |

---

## ๐ ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

### **1. Core Tables - ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ**
```
โ users (ุงููุณุชุฎุฏููู)
โ courses (ุงูุฏูุฑุงุช)
โ enrollments (ุงูุงูุชุญุงู)
```

### **2. Academic Tables - ุงูุฌุฏุงูู ุงูุฃูุงุฏูููุฉ**
```
โ grades (ุงูุฏุฑุฌุงุช)
โ attendance_records (ุงูุญุถูุฑ)
โ exams (ุงูุงูุชุญุงูุงุช)
โ exam_results (ูุชุงุฆุฌ ุงูุงูุชุญุงูุงุช)
```

### **3. Financial Tables - ุงูุฌุฏุงูู ุงููุงููุฉ**
```
โ payments (ุงููุฏููุนุงุช)
```

### **4. Communication Tables - ุฌุฏุงูู ุงูุชูุงุตู**
```
โ notifications (ุงูุฅุดุนุงุฑุงุช)
โ messages (ุงูุฑุณุงุฆู)
โ announcements (ุงูุฅุนูุงูุงุช)
```

### **5. Registration Tables - ุฌุฏุงูู ุงูุชุณุฌูู**
```
โ registration_requests (ุทูุจุงุช ุงูุงูุชุญุงู)
โ requests (ุงูุทูุจุงุช ุงููุฏููุฉ - legacy)
```

### **6. Certificates - ุงูุดูุงุฏุงุช**
```
โ certificates (ุงูุดูุงุฏุงุช)
โ certificate_templates (ููุงูุจ ุงูุดูุงุฏุงุช)
```

### **7. LMS Tables - ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุนูู**
```
โ course_modules (ูุญุฏุงุช ุงูุฏูุฑุฉ)
โ course_materials (ุงูููุงุฏ)
โ assignments (ุงููุงุฌุจุงุช)
โ assignment_submissions (ุงูุชุณูููุงุช)
```

### **8. Support & Geography - ุงูุฏุนู ูุงูููุงุทู**
```
โ support_tickets (ุชุฐุงูุฑ ุงูุฏุนู)
โ regions (ุงููุญุงูุธุงุช)
โ districts (ุงููุฏูุฑูุงุช)
โ sub_districts (ุงูุนุฒู)
```

### **9. System Tables - ุฌุฏุงูู ุงููุธุงู**
```
โ settings (ุงูุฅุนุฏุงุฏุงุช)
โ login_logs (ุณุฌูุงุช ุงูุฏุฎูู)
โ rate_limiter (ุงูุญูุงูุฉ)
โ activity_logs (ุณุฌู ุงููุดุงุท)
```

### **10. Chatbot & AI - ุงูุฐูุงุก ุงูุงุตุทูุงุนู**
```
โ chat_sessions (ุฌูุณุงุช ุงูุดุงุช)
โ chat_messages (ุฑุณุงุฆู ุงูุดุงุช)
```

---

## ๐ ุงูุชุญูู ูู ุงููุฌุงุญ

### **ุจุนุฏ ุงูุชูููุฐุ ุชุญูู ูู:**

1. **ุนุฏุฏ ุงูุฌุฏุงูู:**
```sql
SELECT COUNT(*) FROM information_schema.tables 
WHERE table_schema = 'ibdaa_taiz';
```
**ูุฌุจ ุฃู ูููู: 40+ ุฌุฏูู**

2. **ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู:**
```sql
SELECT * FROM users WHERE role = 'manager';
```
**ูุฌุจ ุฃู ููุฌุฏ: admin@ibdaa.com**

3. **ุงูุฅุนุฏุงุฏุงุช:**
```sql
SELECT * FROM settings;
```
**ูุฌุจ ุฃู ุชูุฌุฏ: 6 ุฅุนุฏุงุฏุงุช**

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### **ูุจู ุงูุชูููุฐ:**
1. โ๏ธ **ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฅูุฒุงููุฉ!**
2. โ๏ธ ุณูุชู ุญุฐู ุฌููุน ุงูุจูุงูุงุช ุงูุญุงููุฉ
3. โ๏ธ ุชุฃูุฏ ูู ุฅููุงู ุฃู ุนูููุงุช ุชุนูู ุนูู ุงููุงุนุฏุฉ
4. โ๏ธ ูุง ุชุบูู ุงููุชุตูุญ ุฃุซูุงุก ุงูุชูููุฐ

### **ุจุนุฏ ุงูุชูููุฐ:**
1. โ ุบููุฑ ูููุฉ ูุฑูุฑ ุงููุฏูุฑ ุงูุงูุชุฑุงุถู
2. โ ุฃุถู ุงููุณุชุฎุฏููู ูุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
3. โ ุงุฎุชุจุฑ ุฌููุน ุงููุธุงุฆู
4. โ ุฑุงุฌุน ุงูุตูุงุญูุงุช

---

## ๐ ุญู ุงููุดุงูู

### **ูุดููุฉ: "ูุดู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช"**

**ุงูุญู:**
```bash
1. ุชุญูู ูู ุชุดุบูู MySQL ูู XAMPP
2. ุชุญูู ูู ููู database/db.php
3. ุชุฃูุฏ ูู ุงุณู ุงููุงุนุฏุฉ: ibdaa_taiz
```

### **ูุดููุฉ: "ุฎุทุฃ ูู ุชูููุฐ SQL"**

**ุงูุญู:**
```bash
1. ุงูุชุญ phpMyAdmin
2. ุงุฐูุจ ุฅูู SQL
3. ูููุฐ ูู ูุณู ุนูู ุญุฏุฉ
4. ุงุจุญุซ ุนู ุงูุฎุทุฃ ูู ุงูุณุทุฑ ุงููุญุฏุฏ
```

### **ูุดููุฉ: "ุฌุฏุงูู ููููุฏุฉ ุจุนุฏ ุงูุชูููุฐ"**

**ุงูุญู:**
```bash
1. ุงูุชุญ rebuild_database.php
2. ุงุถุบุท "ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช"
3. ุฑุงุฌุน ุงูุฌุฏุงูู ุงูููููุฏุฉ
4. ุฃุนุฏ ุงูุชูููุฐ ูู phpMyAdmin
```

---

## ๐ ุงูุฏุนู

### **ูููุณุงุนุฏุฉ:**
1. ุงูุชุญ: `http://localhost/Ibdaa-Taiz/database/analyze_database.php`
2. ุงุญูุธ ุงููุชุงุฆุฌ
3. ุฑุงุฌุน ูููุงุช ุงูุณุฌู ูู `C:\xampp\mysql\data\`

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅุนุงุฏุฉ ุจูุงุก ุงููุงุนุฏุฉ ุจูุฌุงุญ:

### **1. ุชุณุฌูู ุงูุฏุฎูู:**
```
Email: admin@ibdaa.com
Password: password (ุบููุฑู ููุฑุงู!)
```

### **2. ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ:**
- ุงููุญุงูุธุงุช ูุงููุฏูุฑูุงุช
- ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ
- ุงููุณุชุฎุฏููู (ูุฏุฑุจููุ ุทูุงุจ)

### **3. ุงุฎุชุจุงุฑ ุงููุธุงุฆู:**
- ุชุณุฌูู ุฏุฎูู
- ุฅุถุงูุฉ ุฏูุฑุฉ
- ุงูุชุญุงู ุทุงูุจ
- ุฅุฏุฎุงู ุฏุฑุฌุงุช
- ุฅุตุฏุงุฑ ุดูุงุฏุฉ

### **4. ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ:**
- ุชูุนูู HTTPS
- ุชุญุฏูุซ ุจูุงูุงุช ุงูุงุชุตุงู
- ุถุจุท ุตูุงุญูุงุช ุงููููุงุช
- ุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] ุชู ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- [ ] ุชู ุชูููุฐ ุงูุณูุฑูุจุช ุจูุฌุงุญ
- [ ] ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ (40+)
- [ ] ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู ููุฌูุฏ
- [ ] ูููู ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุชู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- [ ] ุชู ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
- [ ] ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู

---

## ๐ ุฌุงูุฒ ููุฅุทูุงู!

**ุงูุขู ุงููุธุงู:**
- โ ูุงุนุฏุฉ ุจูุงูุงุช ููุญุฏุฉ ูููุธูุฉ
- โ ุฌููุน ุงูุฌุฏุงูู ุงููุทููุจุฉ
- โ ุนูุงูุงุช ุตุญูุญุฉ (Foreign Keys)
- โ ุญููู Legacy ููุชูุงูู
- โ ุจูุงูุงุช ุงูุชุฑุงุถูุฉ

**ุงุจุฏุฃ ุงูุขู!**
