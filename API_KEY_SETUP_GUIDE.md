# ๐ ุฏููู ุฅุถุงูุฉ API Key ูู "ุนุจุฏุงููู"

## ๐ฏ ููุงุฐุง ุชุญุชุงุฌ API Keyุ

**ุจุฏูู API Key:**
- โ ูุนูู ุจูุงุนุฏุฉ ูุนุฑูุฉ ูุญููุฉ
- โ ููุชุงุฒ ููุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- โ๏ธ ูุญุฏูุฏ ููููุงู ููุฃุณุฆูุฉ ุงููุนูุฏุฉ ุฌุฏุงู

**ูุน API Key:**
- โจ ุฐูุงุก ุงุตุทูุงุนู ูุงูู
- โจ ููู ุนููู ููุฃุณุฆูุฉ ุงููุนูุฏุฉ
- โจ ุฅุฌุงุจุงุช ุฅุจุฏุงุนูุฉ ูููุตูุฉ
- โจ ูุฏุฑุฉ ุนูู ุงูุชููู ูุน ุฃู ุณุคุงู

---

## ๐ ุทุฑููุฉ 1: OpenAI (ุงูุฃููู)

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ
1. ุงุฐูุจ ุฅูู: **https://platform.openai.com/signup**
2. ุณุฌู ุจู Google ุฃู Email
3. ุฃููู ุงูุชุณุฌูู

### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู API Key
1. ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงุฐูุจ ุฅูู: **https://platform.openai.com/api-keys**
2. ุงุถุบุท ุนูู **"Create new secret key"**
3. ุงูุชุจ ุงุณู ููููุชุงุญ (ูุซูุงู: "Ibdaa Chatbot")
4. ุงุถุบุท **Create**
5. **ุงูุณุฎ ุงูููุชุงุญ ููุฑุงู!** (ูู ุชุณุชุทูุน ุฑุคูุชู ูุฑุฉ ุฃุฎุฑู)
   - ูุจุฏุฃ ุจู `sk-...`
   - ูุซุงู: `sk-proj-abcd1234efgh5678...`

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุงูููุชุงุญ
1. ุงูุชุญ ููู: `c:\xampp\htdocs\Ibdaa-Taiz\platform\api\ai_chatbot.php`
2. ุงุฐูุจ ุฅูู **ุงูุณุทุฑ 24**
3. ุถุน ุงูููุชุงุญ ุจูู ุนูุงูุงุช ุงูุชูุตูุต:

```php
// ูุจู:
define('OPENAI_API_KEY', '');

// ุจุนุฏ:
define('OPENAI_API_KEY', 'sk-proj-abcd1234efgh5678...');
```

4. **ุงุญูุธ ุงูููู** (Ctrl+S)

### ุงูุฎุทูุฉ 4: ุงุฎุชูุงุฑ ุงููููุฐุฌ (ุงูุณุทุฑ 54)

**ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ:**
```php
define('AI_MODEL', 'gpt-3.5-turbo'); // ุณุฑูุน ูุงูุชุตุงุฏู
```

**ููุฅูุชุงุฌ ูุงูุฌูุฏุฉ ุงููุตูู:**
```php
define('AI_MODEL', 'gpt-4'); // ุงูุฃููู ูุงูุฃุฐูู
```

### ๐ฐ ุงูุชูููุฉ

OpenAI ููุณ ูุฌุงููุ ูููู ุฑุฎูุต ุฌุฏุงู:

| ุงููููุฐุฌ | ุงูุชูููุฉ ููู 1000 ูููุฉ | ูุซุงู ุนููู |
|---------|----------------------|-----------|
| GPT-3.5-turbo | $0.002 | 1000 ูุญุงุฏุซุฉ = $2 |
| GPT-4 | $0.03 | 1000 ูุญุงุฏุซุฉ = $30 |

**๐ก ูุตูุญุฉ:** ุงุจุฏุฃ ุจู gpt-3.5-turboุ ูุงูุชูู ูู gpt-4 ุนูุฏ ุงูุญุงุฌุฉ.

**๐ ุฑุตูุฏ ูุฌุงูู:**
- ุญุณุงุจุงุช ุฌุฏูุฏุฉ ุชุญุตู ุนูู **$5 ูุฌุงูุงู**
- ูููู ูู 2,500 ูุญุงุฏุซุฉ ุจู gpt-3.5-turbo
- ุฃู 150 ูุญุงุฏุซุฉ ุจู gpt-4

### ๐ ุงูุฃูุงู

**โ ูุง ุชูุนู:**
- โ ูุง ุชูุดุฑ ุงูููุชุงุญ ุนูู GitHub
- โ ูุง ุชุดุงุฑูู ูุน ุฃุญุฏ
- โ ูุง ุชุถุนู ูู ููู public

**โ ุงูุนู:**
- โ ุงุญูุธู ูู ููู `.env` (ุงุฎุชูุงุฑู)
- โ ุฃุถู `.env` ุฅูู `.gitignore`
- โ ุงุณุชุฎุฏู Variables ุจูุฆูุฉ

---

## ๐ ุทุฑููุฉ 2: Google Gemini (ูุฌุงูู!)

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก API Key
1. ุงุฐูุจ ุฅูู: **https://makersuite.google.com/app/apikey**
2. ุณุฌู ุฏุฎูู ุจุญุณุงุจ Google
3. ุงุถุบุท **"Create API key"**
4. ุงูุณุฎ ุงูููุชุงุญ

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุงูููุชุงุญ
1. ุงูุชุญ: `platform/api/ai_chatbot.php`
2. **ุงูุณุทุฑ 17:** ุบูุฑ ุงููุฒูุฏ:
```php
define('AI_PROVIDER', 'gemini'); // ุบูุฑ ูู openai ุฅูู gemini
```

3. **ุงูุณุทุฑ 46:** ุถุน ุงูููุชุงุญ:
```php
define('GEMINI_API_KEY', 'YOUR-GEMINI-KEY-HERE');
```

4. **ุงูุณุทุฑ 54:** ุบูุฑ ุงููููุฐุฌ:
```php
define('AI_MODEL', 'gemini-pro');
```

### ๐ฐ ุงูุชูููุฉ: ูุฌุงูู! ๐

- โ 60 ุทูุจ ูู ุงูุฏูููุฉ
- โ ุจุฏูู ุจุทุงูุฉ ุงุฆุชูุงููุฉ
- โ ููุชุงุฒ ููุจุฏุงูุฉ ูุงูุชุทููุฑ

### โ๏ธ ุงูููุงุฑูุฉ: OpenAI vs Gemini

| ุงูููุฒุฉ | OpenAI GPT-4 | OpenAI GPT-3.5 | Gemini Pro |
|--------|-------------|----------------|------------|
| ุงูุฐูุงุก | โญโญโญโญโญ | โญโญโญโญ | โญโญโญโญ |
| ุงูุณุฑุนุฉ | โญโญโญ | โญโญโญโญโญ | โญโญโญโญ |
| ุงูุชูููุฉ | ูุฏููุน | ูุฏููุน ุฑุฎูุต | ูุฌุงูู! |
| ุงูุนุฑุจูุฉ | ููุชุงุฒ | ุฌูุฏ ุฌุฏุงู | ุฌูุฏ |
| ุงูููุตู ุจู | ุฅูุชุงุฌ | ุชุทููุฑ | ุงุฎุชุจุงุฑ |

**๐ก ูุตูุญุชู:**
1. **ููุงุฎุชุจุงุฑ:** Gemini (ูุฌุงูู)
2. **ููุชุทููุฑ:** GPT-3.5-turbo (ุฑุฎูุต)
3. **ููุฅูุชุงุฌ:** GPT-4 (ุงูุฃูุถู)

---

## ๐งช ุงุฎุชุจุงุฑ API Key

### ุทุฑููุฉ 1: ุนุจุฑ ุงููุงุฌูุฉ
1. ุงูุชุญ: `http://localhost/Ibdaa-Taiz/platform/index.html`
2. ุงุถุบุท ุนูู ุฒุฑ ุงูุดุงุช
3. ุงูุชุจ: "ูุฑุญุจุงู ุนุจุฏุงููู"
4. ุฅุฐุง ุฑุฏ ุจุฐูุงุก โ โ ูุนูู!
5. ุฅุฐุง ุธูุฑ "API Key ุบูุฑ ูุชููุฑ" โ โ ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

### ุทุฑููุฉ 2: ุงุฎุชุจุงุฑ ูุจุงุดุฑ
ุงูุชุจ ูู ุงูุดุงุช:
```
"ุดุฑุญ ูู ุจุงูุชูุตูู ููู ุชุนูู ุฏุงูุฉ VLOOKUP ูู Excel ูุน ุฃูุซูุฉ ูุนูุฏุฉ"
```

**ุจุฏูู API:**
- ุณูุนุทูู ุดุฑุญ ุฃุณุงุณู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ูุน API:**
- ุณูุนุทูู ุดุฑุญ ููุตู ุฌุฏุงู
- ุฃูุซูุฉ ูุชุนุฏุฏุฉ
- ุญุงูุงุช ุฎุงุตุฉ
- ูุตุงุฆุญ ุงุญุชุฑุงููุฉ

---

## ๐ง ุญู ุงููุดุงูู

### ูุดููุฉ: "Invalid API key"

**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุณุฎ ุงูููุชุงุญ ุจุงููุงูู
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฒุงุฆุฏุฉ
3. ุชุฃูุฏ ูู ุฃู ุงูููุชุงุญ ุจูู ุนูุงูุงุช ุงูุชูุตูุต `''`
4. ุฌุฑุจ ุฅูุดุงุก ููุชุงุญ ุฌุฏูุฏ

### ูุดููุฉ: "Insufficient quota"

**ุงูุญู:**
1. ุญุณุงุจู ุงูุฌุฏูุฏ ุงูุชูู ุฑุตูุฏู ุงููุฌุงูู
2. ุฃุถู ุจุทุงูุฉ ุงุฆุชูุงููุฉ ูู: https://platform.openai.com/account/billing
3. ุฃู ุงุณุชุฎุฏู Gemini (ูุฌุงูู)

### ูุดููุฉ: ุจุทุก ูู ุงูุฑุฏ

**ุงูุณุจุจ:**
- GPT-4 ุฃุจุทุฃ ูู GPT-3.5
- ุงูุฅูุชุฑูุช ุจุทูุก
- OpenAI ูุฒุฏุญู

**ุงูุญู:**
1. ุงุณุชุฎุฏู `gpt-3.5-turbo` ุจุฏูุงู ูู `gpt-4`
2. ููู `MAX_CONTEXT_MESSAGES` ูู 15 ุฅูู 8

### ูุดููุฉ: ุฅุฌุงุจุงุช ุจุงูุฅูุฌููุฒูุฉ

**ุงูุญู:**
ูู `buildSystemPrompt()` ุชุฃูุฏ ูู ูุฌูุฏ:
```php
"ุชุญุฏุซ ุจุงูุนุฑุจูุฉ ุงููุตุญู ุงููุงุถุญุฉ"
```

---

## ๐ก ูุตุงุฆุญ ูุชูุฏูุฉ

### 1. ุชุญุณูู ุงูุฃุฏุงุก
```php
// ููุฃุณุฆูุฉ ุงูุจุณูุทุฉ
define('AI_MODEL', 'gpt-3.5-turbo');

// ููุฃุณุฆูุฉ ุงููุนูุฏุฉ ููุท
define('AI_MODEL', 'gpt-4');
```

### 2. ุงูุชุญูู ูู ุงูุฅุจุฏุงุนูุฉ
```php
// ุฏููู ูููุซูู (ููุชุนููู)
define('TEMPERATURE', 0.3);

// ูุชูุงุฒู (ููุตู ุจู)
define('TEMPERATURE', 0.7);

// ุฅุจุฏุงุนู (ูููุตุต ูุงููุชุงุจุฉ)
define('TEMPERATURE', 0.9);
```

### 3. ุชูููู ุงูุชูููุฉ
```php
// ููู ุงูุณูุงู (ุนุฏุฏ ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ)
define('MAX_CONTEXT_MESSAGES', 8); // ุจุฏูุงู ูู 15

// ุงุณุชุฎุฏู ูููุฐุฌ ุฃุฑุฎุต
define('AI_MODEL', 'gpt-3.5-turbo');
```

### 4. ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุจูุฆูุฉ (ุฃูุซุฑ ุฃูุงูุงู)

ุฃูุดุฆ ููู `.env` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู:
```env
OPENAI_API_KEY=sk-proj-abcd1234...
AI_MODEL=gpt-3.5-turbo
```

ุซู ูู PHP:
```php
// ุชุญููู .env (ูุญุชุงุฌ composer require vlucas/phpdotenv)
$dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
$dotenv->load();

define('OPENAI_API_KEY', $_ENV['OPENAI_API_KEY']);
```

---

## ๐ ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู

### OpenAI Dashboard
1. ุงุฐูุจ ุฅูู: **https://platform.openai.com/usage**
2. ุฑุงูุจ:
   - ุนุฏุฏ ุงูุทูุจุงุช
   - ุงูุชูููุฉ ุงูููููุฉ
   - ุงูุฑุตูุฏ ุงููุชุจูู

### Gemini Dashboard
1. ุงุฐูุจ ุฅูู: **https://makersuite.google.com**
2. ุฑุงูุจ ุนุฏุฏ ุงูุทูุจุงุช

### ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุนุฏุฏ ุงููุญุงุฏุซุงุช ุงูููู
SELECT COUNT(*) 
FROM chatbot_messages 
WHERE DATE(created_at) = CURDATE();

-- ูุชูุณุท ุงูุฑุณุงุฆู ููู ูุญุงุฏุซุฉ
SELECT AVG(total_messages) 
FROM chatbot_conversations;
```

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุญุณุงุจ ุงูุชูููุฉ ุงูุดูุฑูุฉ

**ุงูุณููุงุฑูู:**
- 100 ุทุงูุจ ูุณุชุฎุฏููู ุงูุดุงุช ููููุงู
- ูู ุทุงูุจ ูุฑุณู 5 ุฑุณุงุฆู
- ูู ุฑุณุงูุฉ 50 ูููุฉ
- ุงููููุฐุฌ: gpt-3.5-turbo

**ุงูุญุณุงุจ:**
```
100 ุทุงูุจ ร 5 ุฑุณุงุฆู ร 50 ูููุฉ = 25,000 ูููุฉ/ููู
25,000 ร 30 ููู = 750,000 ูููุฉ/ุดูุฑ
750,000 รท 1000 ร $0.002 = $1.5 ุดูุฑูุงู
```

๐ฐ **ุงูุชูููุฉ: $1.5 ููุท ุดูุฑูุงู!**

### ูุซุงู 2: ุงูุชุจุฏูู ุงูุฐูู

```php
// ูู handleChat()
if ($complexity === 'simple') {
    define('AI_MODEL', 'gpt-3.5-turbo'); // ุฑุฎูุต
} else {
    define('AI_MODEL', 'gpt-4'); // ููู
}
```

---

## โ Checklist ุณุฑูุน

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู:

- [ ] ุญุตูุช ุนูู API Key ูู OpenAI ุฃู Gemini
- [ ] ูุณุฎุช ุงูููุชุงุญ ุจุงููุงูู (ุจุฏูู ูุณุงูุงุช)
- [ ] ูุถุนุช ุงูููุชุงุญ ูู ุงูุณุทุฑ ุงูุตุญูุญ
- [ ] ุญูุธุช ุงูููู (Ctrl+S)
- [ ] ุงุฎุชุฑุช ุงููููุฐุฌ ุงูููุงุณุจ
- [ ] ุงุฎุชุจุฑุช ุงูุดุงุช
- [ ] ุนูู ุจูุฌุงุญ! โจ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:

1. **ุงูุฑุฃ ุฑุณุงูุฉ ุงูุฎุทุฃ ุฌูุฏุงู**
2. **ุชุญูู ูู ุงูู checklist ุฃุนูุงู**
3. **ุฌุฑุจ ุงูุญููู ูู ูุณู "ุญู ุงููุดุงูู"**
4. **ุชูุงุตู ูุนูุง:**
   - ๐ง support@ibdaa-taiz.com
   - ๐ฌ ุนุจุฑ ุงูุดุงุช: "ุฃุญุชุงุฌ ูุณุงุนุฏุฉ ูููุฉ"

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ููุจุฏุงูุฉ ุงูุณุฑูุนุฉ:
1. ุงุณุชุฎุฏู **Gemini** (ูุฌุงูู) ููุงุฎุชุจุงุฑ
2. ุงูุชูู ุฅูู **GPT-3.5-turbo** ููุชุทููุฑ
3. ุงุณุชุฎุฏู **GPT-4** ููุฅูุชุงุฌ ุงูููุงุฆู

### ููุชูููุฑ:
- โ ุงุณุชุฎุฏู gpt-3.5-turbo
- โ ููู MAX_CONTEXT_MESSAGES
- โ ุฑุงูุจ ุงูุงุณุชุฎุฏุงู ุจุงุณุชูุฑุงุฑ

### ููุฌูุฏุฉ ุงููุตูู:
- โจ ุงุณุชุฎุฏู GPT-4
- โจ ุฒุฏ TEMPERATURE ููููุงู (0.7-0.8)
- โจ ุฒุฏ MAX_CONTEXT_MESSAGES (15-20)

---

**๐ ุงูุขู ุนุจุฏุงููู ุฌุงูุฒ ุจูุงูู ูุฏุฑุงุชู ุงูุฐููุฉ! ๐**

*ุขุฎุฑ ุชุญุฏูุซ: ููููุจุฑ 2025*
